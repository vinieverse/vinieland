<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>Vinie Land</title>

<style>
body{
  margin:0;
  background:black;
  color:#00ffd5;
  display:flex;
  justify-content:center;
  align-items:center;
  height:100vh;
  overflow:hidden;
  font-family:monospace;
}
pre{
  font-size:4.8px;
  line-height:4.8px;
  letter-spacing:1px;
}
</style>
</head>

<body>
<pre id="ascii"></pre>

<script>
const img = new Image();
img.src="viniee.jpg";

const chars="VINIEVINIEVINIE@@##**++..  ";
const out=document.getElementById("ascii");

img.onload=function(){

 const canvas=document.createElement("canvas");
 const ctx=canvas.getContext("2d");

 const width=240; // high detail
 const scale=img.height/img.width;

 canvas.width=width;
 canvas.height=width*scale;

 ctx.drawImage(img,0,0,canvas.width,canvas.height);
 const data=ctx.getImageData(0,0,canvas.width,canvas.height).data;

 let frame=0;

 function render(){
  let ascii="";

  for(let y=0;y<canvas.height;y++){
   for(let x=0;x<canvas.width;x++){

    const i=(y*canvas.width+x)*4;
    const r=data[i];
    const g=data[i+1];
    const b=data[i+2];

    const bright=(r+g+b)/3;

    // remove background strongly
    if(bright>210){
      ascii+=" ";
      continue;
    }

    let index=Math.floor((bright/255)*(chars.length-1));

    if(Math.random()<frame/80){
      ascii+=chars[index];
    } else {
      ascii+=" ";
    }
   }
   ascii+="\n";
  }

  out.textContent=ascii;
  frame++;

  if(frame<95) requestAnimationFrame(render);
 }

 render();
};
</script>
</body>
</html>
